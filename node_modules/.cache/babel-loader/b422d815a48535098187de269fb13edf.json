{"ast":null,"code":"var _jsxFileName = \"/Users/facundorubino/Documents/Facultad/Multimedia/Materias finales sueltas/Apps avanzadas/Obligatorios/Obligatorio2_CDAA /Entrega Final CDAA Rubino/ Co\\u0301digo fuente de la aplicacio\\u0301n/src/components/Card/Card.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useParams, Link } from 'react-router-dom';\nimport { HiHeart, HiTrash } from \"react-icons/hi\";\nimport { transformImageUrl, numberWithDots, formatCurrency } from '../../utils/utils';\nimport { saveFav, discardItem } from \"../../features/searchesSlice\";\nimport Loader from \"../Loader/Loader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Card = _ref => {\n  _s();\n  let {\n    id,\n    idML,\n    key,\n    title,\n    price,\n    currency_id,\n    attributes,\n    thumbnail\n  } = _ref;\n  const dispatch = useDispatch();\n  let {\n    idSearch\n  } = useParams();\n  const [loading, setLoading] = useState(false);\n  const totalSearches = useSelector(state => state.objSearches.searches);\n  const year = attributes.find(attribute => attribute.id === \"VEHICLE_YEAR\");\n  const km = attributes.find(attribute => attribute.id === \"KILOMETERS\");\n  const manageCar = (option, idML) => {\n    setLoading(true);\n    let selectedSearch = totalSearches.find(s => s.id === Number(idSearch));\n    let selectedResult = selectedSearch.result;\n    let selectedCar = selectedResult.find(car => car.id === idML);\n    if (option === \"favorite\") {\n      let newFav = {\n        idSearch: idSearch,\n        car: selectedCar\n      };\n      dispatch(saveFav(newFav));\n    } else {\n      let newDiscard = {\n        idSearch: idSearch,\n        car: selectedCar\n      };\n      dispatch(discardItem(newDiscard));\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 24\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow rounded px-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-MLblue text-xl truncate ... py-3\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"object-cover h-max w-full aspect-[4/3] \",\n        src: transformImageUrl(thumbnail),\n        alt: `Imagen de ${title}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center py-5 \",\n        children: [/*#__PURE__*/_jsxDEV(HiTrash, {\n          className: \"m-auto text-5xl  hover:cursor-pointer fill-red-700 hover:rotate-3  transition-all ease-in \",\n          onClick: () => manageCar(\"discard\", idML)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"m-auto text-center \",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [formatCurrency(currency_id), \" \", numberWithDots(price), \"  \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [year.value_name, \" | \", numberWithDots(km.value_name)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/CarDetail/${idSearch}/${idML}`,\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"button\",\n              className: \"bg-white p-2 rounded px-4 mt-2 text-MLblue border-2 border-MLblue hover:bg-MLblue hover:text-white  cursor-pointer transition-all ease-in duration-200\",\n              value: \"M\\xE1s info\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 74\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(HiHeart, {\n          id: id,\n          className: \"m-auto text-5xl  hover:cursor-pointer fill-MLgreen hover:rotate-3  transition-all ease-in\",\n          onClick: () => manageCar(\"favorite\", idML)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }, this)\n  }, void 0, false);\n};\n_s(Card, \"l06hK9DpP9U7Gpz0l3PuMrmLoaI=\", false, function () {\n  return [useDispatch, useParams, useSelector];\n});\n_c = Card;\nexport default Card;\nvar _c;\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"names":["useState","useSelector","useDispatch","useParams","Link","HiHeart","HiTrash","transformImageUrl","numberWithDots","formatCurrency","saveFav","discardItem","Loader","Card","id","idML","key","title","price","currency_id","attributes","thumbnail","dispatch","idSearch","loading","setLoading","totalSearches","state","objSearches","searches","year","find","attribute","km","manageCar","option","selectedSearch","s","Number","selectedResult","result","selectedCar","car","newFav","newDiscard","value_name"],"sources":["/Users/facundorubino/Documents/Facultad/Multimedia/Materias finales sueltas/Apps avanzadas/Obligatorios/Obligatorio2_CDAA /Entrega Final CDAA Rubino/ Código fuente de la aplicación/src/components/Card/Card.js"],"sourcesContent":["import { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useParams, Link } from 'react-router-dom';\nimport { HiHeart, HiTrash } from \"react-icons/hi\";\nimport { transformImageUrl, numberWithDots, formatCurrency } from '../../utils/utils';\nimport { saveFav, discardItem } from \"../../features/searchesSlice\";\nimport Loader from \"../Loader/Loader\"\n\n\nconst Card = ({ id, idML, key, title, price, currency_id, attributes, thumbnail }) => {\n    const dispatch = useDispatch();\n    let { idSearch } = useParams();\n    const [loading, setLoading] = useState(false)\n    const totalSearches = useSelector(state => state.objSearches.searches);\n\n    const year = attributes.find((attribute) => attribute.id === \"VEHICLE_YEAR\");\n    const km = attributes.find((attribute) => attribute.id === \"KILOMETERS\");\n\n    const manageCar = (option, idML) => {\n        setLoading(true);\n        let selectedSearch = totalSearches.find(s => s.id === Number(idSearch));\n        let selectedResult = selectedSearch.result;\n        let selectedCar = selectedResult.find(car => car.id === idML);\n\n        if (option === \"favorite\") {\n            let newFav = {\n                idSearch: idSearch,\n                car: selectedCar,\n            }\n            dispatch(saveFav(newFav));\n        } else {\n            let newDiscard = {\n                idSearch: idSearch,\n                car: selectedCar,\n            }\n            dispatch(discardItem(newDiscard));\n        }\n        setLoading(false);\n\n    }\n\n    return (\n        <>\n            {loading ? <Loader /> :\n                <div className=\"bg-white shadow rounded px-5\">\n                    <h2 className=\"text-MLblue text-xl truncate ... py-3\">{title}</h2>\n                    <img className=\"object-cover h-max w-full aspect-[4/3] \" src={transformImageUrl(thumbnail)} alt={`Imagen de ${title}`} />\n                    <div className=\"flex justify-center py-5 \">\n                        <HiTrash className=\"m-auto text-5xl  hover:cursor-pointer fill-red-700 hover:rotate-3  transition-all ease-in \" onClick={() => manageCar(\"discard\", idML)} />\n\n                        <div className=\"m-auto text-center \">\n                            <p>{formatCurrency(currency_id)} {numberWithDots(price)}  </p>\n                            <p>{year.value_name} | {numberWithDots(km.value_name)}</p>\n\n                            <Link to={`/CarDetail/${idSearch}/${idML}`} ><input type=\"button\" className=\"bg-white p-2 rounded px-4 mt-2 text-MLblue border-2 border-MLblue hover:bg-MLblue hover:text-white  cursor-pointer\n                    transition-all ease-in duration-200\" value=\"Más info\" /></Link>\n                        </div>\n                        <HiHeart id={id} className=\"m-auto text-5xl  hover:cursor-pointer fill-MLgreen hover:rotate-3  transition-all ease-in\" onClick={() => manageCar(\"favorite\", idML)} />\n                    </div>\n                </div >\n            }\n        </>\n    )\n}\n\nexport default Card"],"mappings":"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"},"metadata":{},"sourceType":"module"}