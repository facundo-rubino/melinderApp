{"ast":null,"code":"import{createSlice}from\"@reduxjs/toolkit\";var initialState={searches:[],searchId:0};export var searchesSlice=createSlice({name:\"searches\",initialState:initialState,reducers:{saveId:function saveId(state,action){state.searchId=action.payload;},saveFav:function saveFav(state,action){var findSearch=state.searches.find(function(s){return s.id===Number(action.payload.idSearch);});findSearch.favs.push(action.payload.car);var itemDropIndex=findSearch.result.findIndex(function(s){return s.id===action.payload.car.id;});findSearch.result.splice(itemDropIndex,1);},dropFav:function dropFav(state,action){var findSearch=state.searches.find(function(s){return s.id===Number(action.payload.idSearch);});findSearch.result.push(action.payload.car);var itemDropIndex=findSearch.favs.findIndex(function(s){return s.id===action.payload.car.id;});console.log(itemDropIndex);findSearch.favs.splice(itemDropIndex,1);},discardItem:function discardItem(state,action){var findSearch=state.searches.find(function(s){return s.id===Number(action.payload.idSearch);});findSearch.discarded.push(action.payload.car);var itemDropIndex=findSearch.result.findIndex(function(s){return s.id===action.payload.car.id;});findSearch.result.splice(itemDropIndex,1);},deleteSearch:function deleteSearch(state,action){state.searches.splice(action.payload,1);if(state.searches.length===0){state.searchId=0;}},deleteAllSearches:function deleteAllSearches(state){state.searches=[];},saveSearch:function saveSearch(state,action){state.searchId++;state.searches=action.payload;}}});var _searchesSlice$action=searchesSlice.actions,saveFav=_searchesSlice$action.saveFav,saveId=_searchesSlice$action.saveId,discardItem=_searchesSlice$action.discardItem,deleteSearch=_searchesSlice$action.deleteSearch,deleteAllSearches=_searchesSlice$action.deleteAllSearches,saveSearch=_searchesSlice$action.saveSearch,dropFav=_searchesSlice$action.dropFav;export{saveFav,saveId,discardItem,deleteSearch,deleteAllSearches,saveSearch,dropFav};export default searchesSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","searches","searchId","searchesSlice","name","reducers","saveId","state","action","payload","saveFav","findSearch","find","s","id","Number","idSearch","favs","push","car","itemDropIndex","result","findIndex","splice","dropFav","console","log","discardItem","discarded","deleteSearch","length","deleteAllSearches","saveSearch","actions","reducer"],"sources":["/Users/facundorubino/_dev/projects/react/MelinderApp/src/features/searchesSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n    searches: [],\n    searchId: 0,\n}\n\nexport const searchesSlice = createSlice({\n    name: \"searches\",\n    initialState,\n    reducers: {\n        saveId: (state, action) => {\n            state.searchId = action.payload;\n        },\n        saveFav: (state, action) => {\n            let findSearch = state.searches.find(s => s.id === Number(action.payload.idSearch));\n            findSearch.favs.push(action.payload.car);\n\n            let itemDropIndex = findSearch.result.findIndex(s => s.id === action.payload.car.id);\n            findSearch.result.splice(itemDropIndex, 1);\n        },\n        dropFav: (state, action) => {\n            let findSearch = state.searches.find(s => s.id === Number(action.payload.idSearch));\n            findSearch.result.push(action.payload.car);\n\n            let itemDropIndex = findSearch.favs.findIndex(s => s.id === action.payload.car.id);\n            console.log(itemDropIndex);\n            findSearch.favs.splice(itemDropIndex, 1);\n\n\n        },\n        discardItem: (state, action) => {\n            let findSearch = state.searches.find(s => s.id === Number(action.payload.idSearch));\n            findSearch.discarded.push(action.payload.car);\n\n            let itemDropIndex = findSearch.result.findIndex(s => s.id === action.payload.car.id);\n            findSearch.result.splice(itemDropIndex, 1);\n        },\n        deleteSearch: (state, action) => {\n            state.searches.splice(action.payload, 1);\n            if (state.searches.length === 0) {\n                state.searchId = 0;\n            }\n        },\n        deleteAllSearches: (state) => {\n            state.searches = []\n\n        },\n        saveSearch: (state, action) => {\n            state.searchId++;\n            state.searches = action.payload;\n        },\n\n    }\n\n})\n\nexport const { saveFav, saveId, discardItem, deleteSearch, deleteAllSearches, saveSearch, dropFav } = searchesSlice.actions;\nexport default searchesSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}