{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  searches: [],\n  searchId: 0\n};\nexport const searchesSlice = createSlice({\n  name: \"searches\",\n  initialState,\n  reducers: {\n    saveId: (state, action) => {\n      state.searchId = action.payload;\n    },\n    saveFav: (state, action) => {\n      let findSearch = state.searches.find(s => s.id === Number(action.payload.idSearch));\n      findSearch.favs.push(action.payload.car);\n      let itemDropIndex = findSearch.result.findIndex(s => s.id === action.payload.car.id);\n      findSearch.result.splice(itemDropIndex, 1);\n    },\n    dropFav: (state, action) => {\n      let findSearch = state.searches.find(s => s.id === Number(action.payload.idSearch));\n      findSearch.result.push(action.payload.car);\n      let itemDropIndex = findSearch.favs.findIndex(s => s.id === action.payload.car.id);\n      console.log(itemDropIndex);\n      findSearch.favs.splice(itemDropIndex, 1);\n    },\n    discardItem: (state, action) => {\n      let findSearch = state.searches.find(s => s.id === Number(action.payload.idSearch));\n      findSearch.discarded.push(action.payload.car);\n      let itemDropIndex = findSearch.result.findIndex(s => s.id === action.payload.car.id);\n      findSearch.result.splice(itemDropIndex, 1);\n    },\n    deleteSearch: (state, action) => {\n      state.searches.splice(action.payload, 1);\n      if (state.searches.length === 0) {\n        state.searchId = 0;\n      }\n    },\n    deleteAllSearches: state => {\n      state.searches = [];\n    },\n    saveSearch: (state, action) => {\n      state.searchId++;\n      state.searches = action.payload;\n    }\n  }\n});\nexport const {\n  saveFav,\n  saveId,\n  discardItem,\n  deleteSearch,\n  deleteAllSearches,\n  saveSearch,\n  dropFav\n} = searchesSlice.actions;\nexport default searchesSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","searches","searchId","searchesSlice","name","reducers","saveId","state","action","payload","saveFav","findSearch","find","s","id","Number","idSearch","favs","push","car","itemDropIndex","result","findIndex","splice","dropFav","console","log","discardItem","discarded","deleteSearch","length","deleteAllSearches","saveSearch","actions","reducer"],"sources":["/Users/facundorubino/Documents/Facultad/Multimedia/Materias finales sueltas/Apps avanzadas/Obligatorios/Obligatorio2_CDAA /Entrega Final CDAA Rubino/ Código fuente de la aplicación/src/features/searchesSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n    searches: [],\n    searchId: 0,\n}\n\nexport const searchesSlice = createSlice({\n    name: \"searches\",\n    initialState,\n    reducers: {\n        saveId: (state, action) => {\n            state.searchId = action.payload;\n        },\n        saveFav: (state, action) => {\n            let findSearch = state.searches.find(s => s.id === Number(action.payload.idSearch));\n            findSearch.favs.push(action.payload.car);\n\n            let itemDropIndex = findSearch.result.findIndex(s => s.id === action.payload.car.id);\n            findSearch.result.splice(itemDropIndex, 1);\n        },\n        dropFav: (state, action) => {\n            let findSearch = state.searches.find(s => s.id === Number(action.payload.idSearch));\n            findSearch.result.push(action.payload.car);\n\n            let itemDropIndex = findSearch.favs.findIndex(s => s.id === action.payload.car.id);\n            console.log(itemDropIndex);\n            findSearch.favs.splice(itemDropIndex, 1);\n\n\n        },\n        discardItem: (state, action) => {\n            let findSearch = state.searches.find(s => s.id === Number(action.payload.idSearch));\n            findSearch.discarded.push(action.payload.car);\n\n            let itemDropIndex = findSearch.result.findIndex(s => s.id === action.payload.car.id);\n            findSearch.result.splice(itemDropIndex, 1);\n        },\n        deleteSearch: (state, action) => {\n            state.searches.splice(action.payload, 1);\n            if (state.searches.length === 0) {\n                state.searchId = 0;\n            }\n        },\n        deleteAllSearches: (state) => {\n            state.searches = []\n\n        },\n        saveSearch: (state, action) => {\n            state.searchId++;\n            state.searches = action.payload;\n        },\n\n    }\n\n})\n\nexport const { saveFav, saveId, discardItem, deleteSearch, deleteAllSearches, saveSearch, dropFav } = searchesSlice.actions;\nexport default searchesSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}