{"ast":null,"code":"import _slicedToArray from\"/Users/facundorubino/_dev/projects/react/MelinderApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{transformImageUrl,numberWithDots,formatCurrency}from'../../utils/utils';import{Link}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{HiHeart,HiOutlineHeart}from\"react-icons/hi\";import{dropFav}from'../../features/searchesSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CardFav=function CardFav(car){var year=car.attributes.find(function(attribute){return attribute.id===\"VEHICLE_YEAR\";});var km=car.attributes.find(function(attribute){return attribute.id===\"KILOMETERS\";});var totalSearches=useSelector(function(state){return state.objSearches.searches;});var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var unsaveFav=function unsaveFav(idSearch,idCar){setLoading(true);var selectedSearch;var selectedCar;var carDrop;if(idCar!==undefined){selectedSearch=totalSearches.find(function(s){return s.id===Number(idSearch);});selectedCar=selectedSearch.favs.find(function(car){return car.id===idCar;});carDrop={idSearch:idSearch,car:selectedCar};dispatch(dropFav(carDrop));}setLoading(false);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"w-96 shrink-0 antialiased text-gray-900 mx-2 align-items-cent\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:transformImageUrl(car.thumbnail),alt:car.title,className:\"w-full object-cover object-center rounded-lg shadow-md aspect-[4/3]\"}),/*#__PURE__*/_jsx(\"div\",{className:\"relative px-4 -mt-16  \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-baseline\",children:/*#__PURE__*/_jsxs(\"span\",{className:\" text-md   inline-block rounded  uppercase font-semibold \",children:[formatCurrency(car.currency_id),\" \",numberWithDots(car.price)]})}),/*#__PURE__*/_jsx(\"h4\",{className:\"mt-1 text-xl font-semibold  leading-tight truncate\",children:car.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\" text-gray-600 uppercase text-xs font-semibold tracking-wider pt-2\",children:[year.value_name,\"  \\u2022 \",numberWithDots(km.value_name)]}),/*#__PURE__*/_jsx(Link,{to:\"/CarDetail/\".concat(car.idSearch,\"/\").concat(car.idML),children:/*#__PURE__*/_jsx(\"input\",{type:\"button\",className:\" bg-white rounded px-4 mt-1 text-MLblue border-2 border-MLblue hover:bg-MLblue hover:text-white  cursor-pointer transition-all ease-in duration-200\",value:\"M\\xE1s informaci\\xF3n\"})})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return unsaveFav(car.idSearch,car.idML);},className:\"inline-block m-auto my-2\",children:[/*#__PURE__*/_jsx(HiOutlineHeart,{className:\"absolute text-5xl text-green-500\"}),/*#__PURE__*/_jsx(HiHeart,{className:\"absolute text-5xl text-green-500 cursor-pointer hover:hidden transition-all ease-in\"})]})]})]})})]})})});};export default CardFav;","map":{"version":3,"names":["useState","transformImageUrl","numberWithDots","formatCurrency","Link","useSelector","useDispatch","HiHeart","HiOutlineHeart","dropFav","CardFav","car","year","attributes","find","attribute","id","km","totalSearches","state","objSearches","searches","dispatch","loading","setLoading","unsaveFav","idSearch","idCar","selectedSearch","selectedCar","carDrop","undefined","s","Number","favs","thumbnail","title","currency_id","price","value_name","idML"],"sources":["/Users/facundorubino/_dev/projects/react/MelinderApp/src/components/CardFav/CardFav.js"],"sourcesContent":["import { useState } from 'react'\nimport { transformImageUrl, numberWithDots, formatCurrency } from '../../utils/utils';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { HiHeart, HiOutlineHeart } from \"react-icons/hi\";\nimport { dropFav } from '../../features/searchesSlice';\n\nconst CardFav = (car) => {\n    const year = car.attributes.find((attribute) => attribute.id === \"VEHICLE_YEAR\");\n    const km = car.attributes.find((attribute) => attribute.id === \"KILOMETERS\");\n\n    const totalSearches = useSelector(state => state.objSearches.searches);\n    const dispatch = useDispatch();\n\n    const [loading, setLoading] = useState(false)\n\n    const unsaveFav = (idSearch, idCar) => {\n        setLoading(true);\n        let selectedSearch;\n        let selectedCar;\n        let carDrop;\n\n        if (idCar !== undefined) {\n            selectedSearch = totalSearches.find(s => s.id === Number(idSearch));\n            selectedCar = selectedSearch.favs.find(car => car.id === idCar);\n\n            carDrop = {\n                idSearch: idSearch,\n                car: selectedCar,\n            }\n            dispatch(dropFav(carDrop));\n\n        }\n        setLoading(false)\n\n    }\n\n    return (\n        <>\n            <div className=\"w-96 shrink-0 antialiased text-gray-900 mx-2 align-items-cent\">\n                <div>\n                    <img src={transformImageUrl(car.thumbnail)} alt={car.title} className=\"w-full object-cover object-center rounded-lg shadow-md aspect-[4/3]\" />\n                    <div className=\"relative px-4 -mt-16  \">\n                        <div className=\"bg-white p-4 rounded-lg shadow-md\">\n                            <div className=\"flex items-baseline\">\n                                <span className=\" text-md   inline-block rounded  uppercase font-semibold \">\n                                    {formatCurrency(car.currency_id)} {numberWithDots(car.price)}\n                                </span>\n                            </div>\n                            <h4 className=\"mt-1 text-xl font-semibold  leading-tight truncate\">{car.title}</h4>\n\n                            <div className=\"flex justify-center\">\n                                <div className=\"left-0\">\n                                    <div className=\" text-gray-600 uppercase text-xs font-semibold tracking-wider pt-2\">\n                                        {year.value_name}  &bull; {numberWithDots(km.value_name)}\n                                    </div>\n                                    <Link to={`/CarDetail/${car.idSearch}/${car.idML}`} ><input type=\"button\" className=\" bg-white rounded px-4 mt-1 text-MLblue border-2\n                                         border-MLblue hover:bg-MLblue hover:text-white  cursor-pointer transition-all ease-in duration-200\" value=\"Más información\" /></Link>\n                                </div>\n                                <div onClick={() => unsaveFav(car.idSearch, car.idML)} className=\"inline-block m-auto my-2\">\n                                    <HiOutlineHeart className=\"absolute text-5xl text-green-500\" />\n                                    <HiHeart className=\"absolute text-5xl text-green-500 cursor-pointer hover:hidden transition-all ease-in\" />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default CardFav"],"mappings":"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"},"metadata":{},"sourceType":"module"}